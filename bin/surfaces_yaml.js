// Generated by CoffeeScript 1.7.1
(function() {
  var Aliases, Descript, Regions, Surfaces, fs, surfaces_yaml, totxt, yaml;

  fs = require('fs');

  yaml = require('js-yaml');

  surfaces_yaml = require('surfaces_yaml');

  Descript = surfaces_yaml.Descript;

  Regions = surfaces_yaml.Regions;

  Surfaces = surfaces_yaml.Surfaces;

  Aliases = surfaces_yaml.Aliases;

  totxt = function(file, file_out) {
    var aliases, data, descript, e, regions, surfaces, txt, yaml_str;
    yaml_str = fs.readFileSync(file, 'utf8');
    try {
      data = yaml.safeLoad(yaml_str.replace(/\t/g, '  '));
    } catch (_error) {
      e = _error;
      throw e;
    }
    descript = new Descript(data.descript);
    regions = new Regions(data.regions);
    surfaces = new Surfaces(data.surfaces);
    aliases = new Aliases(data.aliases);
    txt = '';
    txt += descript.to_string();
    txt += regions.to_string();
    txt += surfaces.to_string(regions.get());
    txt += aliases.to_string(surfaces.get());
    return fs.writeFileSync(file_out, txt, 'utf8');
  };

  if (process.argv.length !== 4) {
    console.log('Usage : surface_yaml surfaces.yaml surfaces.txt');
  } else {
    totxt(process.argv[2], process.argv[3]);
  }

}).call(this);
